this is my apiGateway->application.yml

application.yml
server:
    port: 0
spring:
  application:
    name: apiGateway

this is my bService,ClinetController.java,applicatino.yml



clientControler.java

package com.serviceb.bService;

import org.springframework.web.bind.annotation.GetMapping;
import org.springframework.web.bind.annotation.RequestMapping;
import org.springframework.web.bind.annotation.RestController;

@RestController
@RequestMapping("/client")
public class ClientController {

	@GetMapping("/hello")
	public String callServiceA() {
		return "bbbb";
	}

}



application.yml
spring:
 application:
  name: bService
 config:
  import: optional:config-server:http://localhost:8888/ 


eureka:
  instance:
    hostname: localhost
    prefer-ip-address: false
  client:
    serviceUrl:
      defaultZone: http://${eureka.instance.hostname}:8761/eureka/
      
server:
  port: 0



this is my config-server

application.yml

eureka:
    client:
        service-url:
            defaultZone: http://localhost:8761/eureka/
server:
    port: 8888
spring:
    application:
        name: config-server
    cloud:
        config:
            server:
                native:
                    search-locations: file:///C:/config-repo
    profiles:
        active: native

this is my demo(eureka)

apllication.yml

spring:
 application:
  name: demo

server: 
 port: 8761

eureka:
 instance:
   hostname: localhost
   prefer-ip-address: false
 client:
   registerWithEureka: false
   fetchRegistry: false
   serviceUrl:
     defaultZone: http://${eureka.instance.hostname}:${server.port}/eureka/

i have config-repo folder in c drive 
in which apiGateway.yml

eureka:
  instance:
    hostname: localhost
    prefer-ip-address: false
  client:
    serviceUrl:
      defaultZone: http://${eureka.instance.hostname}:8761/eureka/
server:
    port: 8080
spring:
  application:
    name: apiGateway
  cloud:
    gateway:
      default-filters:
        - DedupeResponseHeader=Access-Control-Allow-Credentials Access-Control-Allow-Origin
      globalcors:        
        corsConfigurations:
          '[/service-b/**]':
              allowedOrigins: "*"              
              allowedMethods: "*"
              allowedHeaders: "*"
      routes:
      - id: service-b
        uri: lb://bService
        predicates:
        - Path=/service-b/**
        filters:
        - RewritePath=/service-b/(?<path>.*), /$\{path}	

service-b.yml

spring:
 application:
  name: bService


eureka:
  instance:
    hostname: localhost
    prefer-ip-address: false
  client:
    serviceUrl:
      defaultZone: http://${eureka.instance.hostname}:8761/eureka/
      
server:
  port: 8082




fix the code for linking config-server link the server config








