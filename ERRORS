demo(eureka server)

application.yml

spring:
 application:
  name: demo
 config:
   import: "optional:configserver:http://localhost:8888/"


config-server

applicatino.yml


server:
    port: 8888
spring:
    application:
        name: config-server
    cloud:
        config:
            server:
                native:
                    search-locations: file:///C:/config-repo
    profiles:
        active: native

bService

aplicatino.yml;

spring:
 application:
  name: service-b
 config:
  import: optional:configserver:http://localhost:8888/


apiGateway

application.yml


spring:
  application:
    name: apiGateway
  config:
    import: optional:configserver:http://localhost:8888/


this is my c/config-repo/apiGateway.yml

apiGateway.yml

eureka:
  instance:
    hostname: localhost
    prefer-ip-address: false
  client:
    serviceUrl:
      defaultZone: http://${eureka.instance.hostname}:8761/eureka/
server:
    port: 8080
spring:
  application:
    name: apiGateway
  cloud:
    gateway:
      default-filters:
        - DedupeResponseHeader=Access-Control-Allow-Credentials Access-Control-Allow-Origin
      globalcors:        
        corsConfigurations:
          '[/service-b/**]':
              allowedOrigins: "*"              
              allowedMethods: "*"
              allowedHeaders: "*"
      routes:
      - id: service-b
        uri: lb://service-b
        predicates:
        - Path=/service-b/**
        filters:
        - RewritePath=/service-b/(?<path>.*), /$\{path}	

 c/config-repo/demo.yml

demo.yml
server: 
 port: 8761

eureka:
 instance:
   hostname: localhost
   prefer-ip-address: false
 client:
   registerWithEureka: false
   fetchRegistry: false
   serviceUrl:
     defaultZone: http://${eureka.instance.hostname}:${server.port}/eureka/

 c/config-repo/service-b.yml

service-b.yml


eureka:
  instance:
    hostname: localhost
    prefer-ip-address: false
  client:
    serviceUrl:
      defaultZone: http://${eureka.instance.hostname}:8761/eureka/
      
server:
  port: 8082



fix api gate way is not working port 8080 is not working when calling service b from that port
but service b is running in 8082 port and api gateway and b service is listing in eureka server

fix and check prperly why api gate way is not working fix that 
